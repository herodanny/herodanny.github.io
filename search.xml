<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[good blog]]></title>
    <url>%2Fgood-blog.html</url>
    <content type="text"><![CDATA[è¿™æ˜¯æˆ‘ç¢°åˆ°é—®é¢˜åŽï¼Œåœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°çš„è§£ç­”æ—¶ï¼Œç¢°åˆ°çš„å¥½åšå®¢ï¼ŒçŽ°è®°å½•ä¸‹æ¥ï¼šHexo]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>test</tag>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[my blog test]]></title>
    <url>%2Fmy-blog-test.html</url>
    <content type="text"><![CDATA[Anima Anima allows you to query database like SQL and Stream.a simple DSL syntax, supports multiple databases, integrates well with Java8,supports multiple relational mappings, and is a database manipulation tool. Document Feature Simple DSL H2ã€MySQLã€SQLiteã€PostgreSQLã€Oracleã€SqlServer Paging support Flexible configuration Connection pool support Support LocalDateã€LocalDateTime Support lambda expression Relationship (hasOneã€hasManyã€belongsTo) SQL performance statistics Based Java8 UsageLatest snapshot version If you want to prioritize new features or some BUG fixes you can use it, you need to specify the snapshot repository in pom.xml 12345678910111213141516&lt;repository&gt; &lt;id&gt;snapshots-repo&lt;/id&gt; &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/snapshots&gt;&lt;/repository&gt;&lt;dependency&gt; &lt;groupId&gt;io.github.biezhi&lt;/groupId&gt; &lt;artifactId&gt;anima&lt;/artifactId&gt; &lt;version&gt;0.2.4-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt; Hereâ€™s the RELEASE version. As Gradle 1compile 'io.github.biezhi:anima:0.2.3' As Maven 12345&lt;dependency&gt; &lt;groupId&gt;io.github.biezhi&lt;/groupId&gt; &lt;artifactId&gt;anima&lt;/artifactId&gt; &lt;version&gt;0.2.2&lt;/version&gt;&lt;/dependency&gt; ðŸ“’ Although Anima can also be used by adding a jar package, we do not recommend doing this. ExamplesOpen Connection 12345678910111213141516// MySQLAnima.open("jdbc:mysql://127.0.0.1:3306/demo", "root", "123456");// SQLiteAnima.open("jdbc:sqlite:./demo.db");// H2Anima.open("jdbc:h2:file:~/demo;FILE_LOCK=FS;PAGE_SIZE=1024;CACHE_SIZE=8192", "sa", "");// DataSourceDruidDataSource dataSource = new DruidDataSource();dataSource.setDriverClassName("com.mysql.jdbc.Driver");dataSource.setUrl(blade.environment().getOrNull("jdbc.url"));dataSource.setUsername(blade.environment().getOrNull("jdbc.username"));dataSource.setPassword(blade.environment().getOrNull("jdbc.password"));Anima.open(dataSource); ðŸ“• This operation only needs one time 123456789101112131415public class User extends Model &#123; private Integer id; private String userName; private Integer age; public User() &#123; &#125; public User(String userName, Integer age) &#123; this.userName = userName; this.age = age; &#125; &#125; Table Structure 12345CREATE TABLE `users` ( `id` IDENTITY PRIMARY KEY, `user_name` varchar(50) NOT NULL, `age` int(11)) Query123456789101112131415161718192021long count = select().from(User.class).count();// SELECT COUNT(*) FROM userslong count = select().from(User.class).where("age &gt; ?", 15).isNotNull("user_name").count();// SELECT COUNT(*) FROM users WHERE age &gt; ? AND user_name IS NOT NULLUser user = select().from(User.class).byId(2);// SELECT * FROM users WHERE id = ?List&lt;User&gt; users = select().from(User.class).byIds(1, 2, 3);// SELECT * FROM users WHERE id IN (?, ?, ?)String name = select().bySQL(String.class, "select user_name from users limit 1").one();List&lt;String&gt; names = select().bySQL(String.class, "select user_name from users limit ?", 3);List&lt;User&gt; users = select().from(User.class).all();// SELECT * FROM usersList&lt;User&gt; users = select().from(User.class).like("user_name", "%o%").all();// SELECT * FROM users WHERE user_name LIKE ? Limit 12List&lt;User&gt; users = select().from(User.class).order("id desc").limit(5);// SELECT * FROM users ORDER BY id desc Paging 12Page&lt;User&gt; userPage = select().from(User.class).order("id desc").page(1, 3);// SELECT * FROM users ORDER BY id desc LIMIT ?, ? Map 1select().from(User.class).map(User::getUserName).limit(3).collect(Collectors.toList()); Filter 1select().from(User.class).filter(u -&gt; u.getAge() &gt; 10).collect(Collectors.toList()); Lambda 12User user = select().from(User.class).where(User::getUserName).eq("jack").one();// SELECT * FROM users WHERE user_name = ? 12345List&lt;User&gt; user = select().from(User.class) .where(User::getUserName).notNull() .and(User::getAge).gt(10) .all();// SELECT * FROM users WHERE user_name IS NOT NULL AND age &gt; ? 12select().from(User.class).order(User::getId, OrderBy.DESC).order(User::getAge, OrderBy.ASC).all();// SELECT * FROM users ORDER BY id DESC, age ASC Join 1234567891011121314151617181920@Table(name = "order_info")@Datapublic class OrderInfo extends Model &#123; private Long id; private Integer uid; @Column(name = "productname") private String productName; private LocalDateTime createTime; @Ignore private User user; @Ignore private Address address;&#125; 1234567891011121314151617181920212223242526272829// HasOneOrderInfo orderInfo = select().from(OrderInfo.class) .join( Joins.with(Address.class).as(OrderInfo::getAddress) .on(OrderInfo::getId, Address::getOrderId) ).byId(3);orderInfo = select().from(OrderInfo.class) .join( Joins.with(Address.class).as(OrderInfo::getAddress) .on(OrderInfo::getId, Address::getOrderId) ) .join( Joins.with(User.class).as(OrderInfo::getUser) .on(OrderInfo::getUid, User::getId) ).byId(3);// ManyToOneorderInfo = select().from(OrderInfo.class) .join( Joins.with(User.class).as(OrderInfo::getUser) .on(OrderInfo::getUid, User::getId) ).byId(3);// OneToManyUserDto userDto = select().from(UserDto.class).join( Joins.with(OrderInfo.class).as(UserDto::getOrders) .on(UserDto::getId, OrderInfo::getUid) ).byId(1); Insert12Integer id = new User("biezhi", 100).save().asInt();// INSERT INTO users(id,user_name,age) VALUES (?,?,?) or 1Anima.save(new User("jack", 100)); Batch Save 12345List&lt;User&gt; users = new ArrayList&lt;&gt;();users.add(new User("user1", 10));users.add(new User("user2", 11));users.add(new User("user3", 12));Anima.saveBatch(users); ðŸ“˜ This operation will begin a transaction and rollback when there is a transaction that is unsuccessful. Update12int result = update().from(User.class).set("user_name", newName).where("id", 1).execute();// UPDATE users SET username = ? WHERE id = ? or 12int result = update().from(User.class).set("user_name", newName).where("id", 1).execute();// UPDATE users SET user_name = ? WHERE id = ? or 12345User user = new User();user.setId(1);user.setUserName("jack");user.update();// UPDATE users SET user_name = ? WHERE id = ? 1update().from(User.class).set(User::getUserName, "base64").updateById(2); 1update().from(User.class).set(User::getUserName, "base64").where(User::getId).eq(2).execute(); Delete12int result = delete().from(User.class).where("id", 1).execute();// DELETE FROM users WHERE id = ? or 12345User user = new User();user.setAge(15);user.setUserName("jack");user.delete();// DELETE FROM users WHERE user_name = ? and age = ? 123delete().from(User.class).where(User::getId).deleteById(3);delete().from(User.class).where(User::getId).eq(1).execute();delete().from(User.class).where(User::getAge).lte(20).execute(); Transaction1234Anima.atomic(() -&gt; &#123; int a = 1 / 0; new User("apple", 666).save();&#125;).catchException(e -&gt; Assert.assertEquals(ArithmeticException.class, e.getClass())); ðŸ“— Anima uses the atomic method to complete a transaction. normally, the code will not throw an exception.when a RuntimeException is caught, the transaction will be rollback. Test CodeSee here LicenseApache2]]></content>
      <categories>
        <category>test</category>
        <category>tools</category>
      </categories>
      <tags>
        <tag>test</tag>
        <tag>markdown</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[my first blog article]]></title>
    <url>%2Fmy-first-blog-article.html</url>
    <content type="text"><![CDATA[æ‘˜è¦æ‘˜è¦æµ‹è¯•æ–‡ç« ã€‚æœ¬æ–‡æ¥è‡ªäº’è”ç½‘ã€‚æ˜¯å…³äºŽmarkdownç®€æ˜Žè¯­æ³•æ•™ç¨‹ã€‚çŽ°åœ¨è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦Markdownå§ã€‚ ä¸€çº§æ ‡é¢˜äºŒçº§æ ‡é¢˜ä¸‰çº§æ ‡é¢˜æ— åºåˆ—è¡¨ æˆ‘çš„æŠ€æœ¯å°é»‘å±‹ ä¸ä¼šå†™ä»£ç çš„èœé¸Ÿ æˆ‘è¦è¿”å›žç«æ˜Ÿäº† æœ‰åºåˆ—è¡¨ æˆ‘ä»¬éƒ½æ˜¯åœ°çƒäºº ä¸ºå•¥ä½ å°±ä¸ä¼š markdown? çœ‹å®Œè¿˜ä¸ä¼šå°±è¦è¢«å®‰æŽ’ é“¾æŽ¥çš„å†™æ³•æˆ‘çš„æŠ€æœ¯å°å±‹ å¸¦ Titleæˆ‘çš„æŠ€æœ¯å°å±‹ å›¾ç‰‡ å¸¦ Title å¼•ç”¨æ–¹å¼  ä¸–ç•Œä¾æ—§å¾ˆå¤§,å¤§åˆ°åªèƒ½èƒ¡è¯´ã€‚  é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ ä»Žæ˜Žå¤©èµ·ï¼Œåšä¸€ä¸ªå¹¸ç¦çš„äººå–‚é©¬ã€åŠˆæŸ´ï¼Œå‘¨æ¸¸ä¸–ç•Œä»Žæ˜Žå¤©èµ·ï¼Œå…³å¿ƒç²®é£Ÿå’Œè”¬èœæˆ‘æœ‰ä¸€æ‰€æˆ¿å­ï¼Œé¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ä»Žæ˜Žå¤©èµ·ï¼Œå’Œæ¯ä¸€ä¸ªäº²äººé€šä¿¡å‘Šè¯‰ä»–ä»¬æˆ‘çš„å¹¸ç¦é‚£å¹¸ç¦çš„é—ªç”µå‘Šè¯‰æˆ‘çš„æˆ‘å°†å‘Šè¯‰æ¯ä¸€ä¸ªäººç»™æ¯ä¸€æ¡æ²³æ¯ä¸€åº§å±±å–ä¸€ä¸ªæ¸©æš–çš„åå­—é™Œç”Ÿäººï¼Œæˆ‘ä¹Ÿä¸ºä½ ç¥ç¦æ„¿ä½ æœ‰ä¸€ä¸ªç¿çƒ‚çš„å‰ç¨‹æ„¿ä½ æœ‰æƒ…äººç»ˆæˆçœ·å±žæ„¿ä½ åœ¨å°˜ä¸–èŽ·å¾—å¹¸ç¦æˆ‘åªæ„¿é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ ç²—ä½“ ç²—ä½“ çœ‹ï¼Œæˆ‘æ–œäº†æ²¡ çœŸçš„å¾ˆæ–œ ç²—ä½“ï¼‹æ–œä½“ æ­¤å¤„çš„æ•…äº‹åªèƒ½ç”¨æ³ªæ°´æŽ©ç›– ç¾¤é‡Œå•èº«å¥³ç”Ÿåå• å§“å å¹´é¾„ ä¸‰å›´ ç½—æ¬²å‡¤ 18 18, 27, 30 ç§‹åˆ€é±¼ 26 28, 25, 33 çªä¸è¡Œ 22 23, 28, 35 å•è¡Œä»£ç å¼•ç”¨ 123456789package mainimport "fmt"func main()&#123; fmt.Println("æˆ‘çš„æŠ€æœ¯å°å±‹");&#125; åˆ†å‰²çº¿]]></content>
      <categories>
        <category>test</category>
        <category>tools</category>
      </categories>
      <tags>
        <tag>test</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
</search>
